{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _Lookup = _interopRequireDefault(require(\"../Lookup\"));\n\nvar _locationIcon = _interopRequireDefault(require(\"./icons/locationIcon\"));\n\nvar _utils = require(\"../../libs/utils\");\n\nvar _getSuggestions = _interopRequireDefault(require(\"./helpers/getSuggestions\"));\n\nvar _getSearchForOption = _interopRequireDefault(require(\"./helpers/getSearchForOption\"));\n\nvar _getFormattedValue = _interopRequireDefault(require(\"./helpers/getFormattedValue\"));\n\nvar _selectedLocationIcon = _interopRequireDefault(require(\"./icons/selectedLocationIcon\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _getSearchParams = _interopRequireDefault(require(\"./helpers/getSearchParams\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./proptypes\"));\n\nvar _poweredByGoogleContainer = _interopRequireDefault(require(\"./styled/poweredByGoogleContainer\"));\n\nvar _poweredByGoogleLogo = _interopRequireDefault(require(\"./styled/poweredByGoogleLogo\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar PlacesLookupComponent = /*#__PURE__*/function (_Component) {\n  (0, _inherits2[\"default\"])(PlacesLookupComponent, _Component);\n\n  function PlacesLookupComponent(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, PlacesLookupComponent);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(PlacesLookupComponent).call(this, props));\n    _this.lookupId = (0, _utils.uniqueId)('gaddrlookup-input');\n    _this.initialized = false;\n    _this.handleChange = _this.handleChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSearch = _this.handleSearch.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.placesServiceRef = _react[\"default\"].createRef();\n    _this.state = {\n      isSearching: false,\n      // TODO: remove\n      places: [],\n      suggestions: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(PlacesLookupComponent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_ref) {\n      var prevIsScriptLoaded = _ref.isScriptLoaded; // TODO: change this please, keep isInitialized as an state and don't\n      // render anything until the\n      // component is initialized\n\n      var _this$props = this.props,\n          isScriptLoaded = _this$props.isScriptLoaded,\n          isScriptLoadSucceed = _this$props.isScriptLoadSucceed;\n\n      if (!prevIsScriptLoaded && isScriptLoaded && isScriptLoadSucceed) {\n        this.initComponent();\n      }\n    }\n  }, {\n    key: \"getPlaceInfo\",\n    value: function getPlaceInfo(placeId) {\n      var _this2 = this;\n\n      this.setState({\n        isSearching: true\n      });\n      return new Promise(function (resolve, reject) {\n        _this2.placesService.getDetails({\n          placeId: placeId\n        }, function (details, status) {\n          _this2.setState({\n            isSearching: false\n          });\n\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            return resolve(details);\n          }\n\n          return reject(status);\n        });\n      });\n    }\n  }, {\n    key: \"initComponent\",\n    value: function initComponent() {\n      this.autocompleteService = new window.google.maps.places.AutocompleteService();\n      this.placesService = new window.google.maps.places.PlacesService(this.placesServiceRef.current);\n      this.initialized = true;\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(option) {\n      var onChange = this.props.onChange;\n\n      if (!option) {\n        return onChange(null);\n      }\n\n      if (!option.id) {\n        return onChange(option.data);\n      }\n\n      var places = this.state.places;\n      var placePrediction = places.find(function (place) {\n        return place.place_id === option.id;\n      });\n      return this.getPlaceInfo(option.id).then(function (result) {\n        var resultValue = Object.assign(result, {\n          predictionInfo: placePrediction\n        });\n        return onChange(resultValue);\n      })[\"catch\"](function () {\n        var resultValue = placePrediction;\n        return onChange(resultValue);\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(value) {\n      var _this3 = this;\n\n      if (!this.initialized) return;\n\n      if (value) {\n        this.searchGooglePlaces(value).then(function (results) {\n          return _this3.processSearchResults(results, value);\n        })[\"catch\"](function () {\n          return _this3.handleError(value);\n        });\n      } else if (!value) {\n        this.clear();\n      }\n    }\n  }, {\n    key: \"searchGooglePlaces\",\n    value: function searchGooglePlaces(needle) {\n      var _this4 = this;\n\n      var searchOptions = this.props.searchOptions;\n      var searchParams = (0, _getSearchParams[\"default\"])(searchOptions);\n      this.setState({\n        isSearching: true\n      });\n      return new Promise(function (resolve, reject) {\n        _this4.autocompleteService.getPlacePredictions(_objectSpread({}, searchParams, {\n          input: needle\n        }), function (predictions, status) {\n          _this4.setState({\n            isSearching: false\n          });\n\n          if (status !== window.google.maps.places.PlacesServiceStatus.OK) {\n            return reject(status);\n          }\n\n          return resolve(predictions);\n        });\n      });\n    }\n  }, {\n    key: \"processSearchResults\",\n    value: function processSearchResults(results, searchValue) {\n      this.setState({\n        places: results,\n        suggestions: (0, _getSuggestions[\"default\"])(results, searchValue)\n      });\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(searchValue) {\n      this.setState({\n        places: [],\n        suggestions: [(0, _getSearchForOption[\"default\"])(searchValue)]\n      });\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        places: [],\n        suggestions: []\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          style = _this$props2.style,\n          className = _this$props2.className,\n          label = _this$props2.label,\n          error = _this$props2.error,\n          readOnly = _this$props2.readOnly,\n          placeholder = _this$props2.placeholder,\n          disabled = _this$props2.disabled,\n          tabIndex = _this$props2.tabIndex,\n          required = _this$props2.required,\n          id = _this$props2.id,\n          name = _this$props2.name,\n          value = _this$props2.value,\n          hideLabel = _this$props2.hideLabel,\n          onClick = _this$props2.onClick,\n          onBlur = _this$props2.onBlur;\n      var _this$state = this.state,\n          isSearching = _this$state.isSearching,\n          suggestions = _this$state.suggestions;\n      var options = suggestions.length > 0 ? suggestions : null;\n      return _react[\"default\"].createElement(\"div\", {\n        id: id,\n        style: style,\n        className: className\n      }, _react[\"default\"].createElement(_Lookup[\"default\"], {\n        id: this.lookupId,\n        name: name,\n        label: label,\n        debounce: true,\n        isLoading: isSearching,\n        placeholder: placeholder,\n        options: options,\n        hideLabel: hideLabel,\n        readOnly: readOnly,\n        required: required,\n        tabIndex: tabIndex,\n        disabled: disabled,\n        value: (0, _getFormattedValue[\"default\"])(value, false, _react[\"default\"].createElement(_selectedLocationIcon[\"default\"], null)),\n        onChange: this.handleChange,\n        onSearch: this.handleSearch,\n        onClick: onClick // TODO: fix focus problem when used with redux form\n        // onFocus={onFocus}\n        ,\n        onBlur: onBlur,\n        error: error,\n        icon: _react[\"default\"].createElement(_locationIcon[\"default\"], null),\n        preferredSelectedOption: 1\n      }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n        isTrue: !error\n      }, _react[\"default\"].createElement(_poweredByGoogleContainer[\"default\"], null, _react[\"default\"].createElement(_poweredByGoogleLogo[\"default\"], null))), _react[\"default\"].createElement(\"div\", {\n        ref: this.placesServiceRef\n      }));\n    }\n  }]);\n  return PlacesLookupComponent;\n}(_react.Component);\n\nexports.Component = PlacesLookupComponent;\nPlacesLookupComponent.propTypes = {\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired,\n  searchOptions: CustomPropTypes.searchOptionsShape,\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n  hideLabel: _propTypes[\"default\"].bool,\n  readOnly: _propTypes[\"default\"].bool,\n  value: _propTypes[\"default\"].oneOfType([CustomPropTypes.predictionShape, CustomPropTypes.placeDetailsShape, _propTypes[\"default\"].string]),\n  name: _propTypes[\"default\"].string,\n  placeholder: _propTypes[\"default\"].string,\n  required: _propTypes[\"default\"].bool,\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n  disabled: _propTypes[\"default\"].bool,\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  id: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  onChange: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func,\n  // onFocus: PropTypes.func,\n  onBlur: _propTypes[\"default\"].func\n};\nPlacesLookupComponent.defaultProps = {\n  searchOptions: undefined,\n  value: undefined,\n  name: undefined,\n  placeholder: null,\n  required: false,\n  readOnly: false,\n  error: null,\n  disabled: false,\n  onChange: function onChange() {},\n  onClick: function onClick() {},\n  // onFocus: () => {},\n  onBlur: function onBlur() {},\n  tabIndex: undefined,\n  label: undefined,\n  className: undefined,\n  style: undefined,\n  id: undefined,\n  hideLabel: false\n};\n\nvar _default = (0, _withReduxForm[\"default\"])(PlacesLookupComponent);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/GoogleAddressLookup/component.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","Component","_defineProperty2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_react","_propTypes","_withReduxForm","_Lookup","_locationIcon","_utils","_getSuggestions","_getSearchForOption","_getFormattedValue","_selectedLocationIcon","_RenderIf","_getSearchParams","CustomPropTypes","_poweredByGoogleContainer","_poweredByGoogleLogo","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","PlacesLookupComponent","_Component","props","_this","call","lookupId","uniqueId","initialized","handleChange","bind","handleSearch","placesServiceRef","createRef","state","isSearching","places","suggestions","componentDidUpdate","_ref","prevIsScriptLoaded","isScriptLoaded","_this$props","isScriptLoadSucceed","initComponent","getPlaceInfo","placeId","_this2","setState","Promise","resolve","reject","placesService","getDetails","details","status","window","google","maps","PlacesServiceStatus","OK","autocompleteService","AutocompleteService","PlacesService","current","option","onChange","id","data","placePrediction","find","place","place_id","then","result","resultValue","assign","predictionInfo","_this3","searchGooglePlaces","results","processSearchResults","handleError","clear","needle","_this4","searchOptions","searchParams","getPlacePredictions","input","predictions","searchValue","render","_this$props2","style","className","label","error","readOnly","placeholder","disabled","tabIndex","required","name","hideLabel","onClick","onBlur","_this$state","options","createElement","debounce","isLoading","onSearch","icon","preferredSelectedOption","isTrue","ref","propTypes","bool","isRequired","searchOptionsShape","oneOfType","string","node","predictionShape","placeDetailsShape","number","func","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _Lookup = _interopRequireDefault(require(\"../Lookup\"));\n\nvar _locationIcon = _interopRequireDefault(require(\"./icons/locationIcon\"));\n\nvar _utils = require(\"../../libs/utils\");\n\nvar _getSuggestions = _interopRequireDefault(require(\"./helpers/getSuggestions\"));\n\nvar _getSearchForOption = _interopRequireDefault(require(\"./helpers/getSearchForOption\"));\n\nvar _getFormattedValue = _interopRequireDefault(require(\"./helpers/getFormattedValue\"));\n\nvar _selectedLocationIcon = _interopRequireDefault(require(\"./icons/selectedLocationIcon\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _getSearchParams = _interopRequireDefault(require(\"./helpers/getSearchParams\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./proptypes\"));\n\nvar _poweredByGoogleContainer = _interopRequireDefault(require(\"./styled/poweredByGoogleContainer\"));\n\nvar _poweredByGoogleLogo = _interopRequireDefault(require(\"./styled/poweredByGoogleLogo\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar PlacesLookupComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(PlacesLookupComponent, _Component);\n\n  function PlacesLookupComponent(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, PlacesLookupComponent);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(PlacesLookupComponent).call(this, props));\n    _this.lookupId = (0, _utils.uniqueId)('gaddrlookup-input');\n    _this.initialized = false;\n    _this.handleChange = _this.handleChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSearch = _this.handleSearch.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.placesServiceRef = _react[\"default\"].createRef();\n    _this.state = {\n      isSearching: false,\n      // TODO: remove\n      places: [],\n      suggestions: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(PlacesLookupComponent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_ref) {\n      var prevIsScriptLoaded = _ref.isScriptLoaded;\n      // TODO: change this please, keep isInitialized as an state and don't\n      // render anything until the\n      // component is initialized\n      var _this$props = this.props,\n          isScriptLoaded = _this$props.isScriptLoaded,\n          isScriptLoadSucceed = _this$props.isScriptLoadSucceed;\n\n      if (!prevIsScriptLoaded && isScriptLoaded && isScriptLoadSucceed) {\n        this.initComponent();\n      }\n    }\n  }, {\n    key: \"getPlaceInfo\",\n    value: function getPlaceInfo(placeId) {\n      var _this2 = this;\n\n      this.setState({\n        isSearching: true\n      });\n      return new Promise(function (resolve, reject) {\n        _this2.placesService.getDetails({\n          placeId: placeId\n        }, function (details, status) {\n          _this2.setState({\n            isSearching: false\n          });\n\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            return resolve(details);\n          }\n\n          return reject(status);\n        });\n      });\n    }\n  }, {\n    key: \"initComponent\",\n    value: function initComponent() {\n      this.autocompleteService = new window.google.maps.places.AutocompleteService();\n      this.placesService = new window.google.maps.places.PlacesService(this.placesServiceRef.current);\n      this.initialized = true;\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(option) {\n      var onChange = this.props.onChange;\n\n      if (!option) {\n        return onChange(null);\n      }\n\n      if (!option.id) {\n        return onChange(option.data);\n      }\n\n      var places = this.state.places;\n      var placePrediction = places.find(function (place) {\n        return place.place_id === option.id;\n      });\n      return this.getPlaceInfo(option.id).then(function (result) {\n        var resultValue = Object.assign(result, {\n          predictionInfo: placePrediction\n        });\n        return onChange(resultValue);\n      })[\"catch\"](function () {\n        var resultValue = placePrediction;\n        return onChange(resultValue);\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(value) {\n      var _this3 = this;\n\n      if (!this.initialized) return;\n\n      if (value) {\n        this.searchGooglePlaces(value).then(function (results) {\n          return _this3.processSearchResults(results, value);\n        })[\"catch\"](function () {\n          return _this3.handleError(value);\n        });\n      } else if (!value) {\n        this.clear();\n      }\n    }\n  }, {\n    key: \"searchGooglePlaces\",\n    value: function searchGooglePlaces(needle) {\n      var _this4 = this;\n\n      var searchOptions = this.props.searchOptions;\n      var searchParams = (0, _getSearchParams[\"default\"])(searchOptions);\n      this.setState({\n        isSearching: true\n      });\n      return new Promise(function (resolve, reject) {\n        _this4.autocompleteService.getPlacePredictions(_objectSpread({}, searchParams, {\n          input: needle\n        }), function (predictions, status) {\n          _this4.setState({\n            isSearching: false\n          });\n\n          if (status !== window.google.maps.places.PlacesServiceStatus.OK) {\n            return reject(status);\n          }\n\n          return resolve(predictions);\n        });\n      });\n    }\n  }, {\n    key: \"processSearchResults\",\n    value: function processSearchResults(results, searchValue) {\n      this.setState({\n        places: results,\n        suggestions: (0, _getSuggestions[\"default\"])(results, searchValue)\n      });\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(searchValue) {\n      this.setState({\n        places: [],\n        suggestions: [(0, _getSearchForOption[\"default\"])(searchValue)]\n      });\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        places: [],\n        suggestions: []\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          style = _this$props2.style,\n          className = _this$props2.className,\n          label = _this$props2.label,\n          error = _this$props2.error,\n          readOnly = _this$props2.readOnly,\n          placeholder = _this$props2.placeholder,\n          disabled = _this$props2.disabled,\n          tabIndex = _this$props2.tabIndex,\n          required = _this$props2.required,\n          id = _this$props2.id,\n          name = _this$props2.name,\n          value = _this$props2.value,\n          hideLabel = _this$props2.hideLabel,\n          onClick = _this$props2.onClick,\n          onBlur = _this$props2.onBlur;\n      var _this$state = this.state,\n          isSearching = _this$state.isSearching,\n          suggestions = _this$state.suggestions;\n      var options = suggestions.length > 0 ? suggestions : null;\n      return _react[\"default\"].createElement(\"div\", {\n        id: id,\n        style: style,\n        className: className\n      }, _react[\"default\"].createElement(_Lookup[\"default\"], {\n        id: this.lookupId,\n        name: name,\n        label: label,\n        debounce: true,\n        isLoading: isSearching,\n        placeholder: placeholder,\n        options: options,\n        hideLabel: hideLabel,\n        readOnly: readOnly,\n        required: required,\n        tabIndex: tabIndex,\n        disabled: disabled,\n        value: (0, _getFormattedValue[\"default\"])(value, false, _react[\"default\"].createElement(_selectedLocationIcon[\"default\"], null)),\n        onChange: this.handleChange,\n        onSearch: this.handleSearch,\n        onClick: onClick // TODO: fix focus problem when used with redux form\n        // onFocus={onFocus}\n        ,\n        onBlur: onBlur,\n        error: error,\n        icon: _react[\"default\"].createElement(_locationIcon[\"default\"], null),\n        preferredSelectedOption: 1\n      }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n        isTrue: !error\n      }, _react[\"default\"].createElement(_poweredByGoogleContainer[\"default\"], null, _react[\"default\"].createElement(_poweredByGoogleLogo[\"default\"], null))), _react[\"default\"].createElement(\"div\", {\n        ref: this.placesServiceRef\n      }));\n    }\n  }]);\n  return PlacesLookupComponent;\n}(_react.Component);\n\nexports.Component = PlacesLookupComponent;\nPlacesLookupComponent.propTypes = {\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired,\n  searchOptions: CustomPropTypes.searchOptionsShape,\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n  hideLabel: _propTypes[\"default\"].bool,\n  readOnly: _propTypes[\"default\"].bool,\n  value: _propTypes[\"default\"].oneOfType([CustomPropTypes.predictionShape, CustomPropTypes.placeDetailsShape, _propTypes[\"default\"].string]),\n  name: _propTypes[\"default\"].string,\n  placeholder: _propTypes[\"default\"].string,\n  required: _propTypes[\"default\"].bool,\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n  disabled: _propTypes[\"default\"].bool,\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  id: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  onChange: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func,\n  // onFocus: PropTypes.func,\n  onBlur: _propTypes[\"default\"].func\n};\nPlacesLookupComponent.defaultProps = {\n  searchOptions: undefined,\n  value: undefined,\n  name: undefined,\n  placeholder: null,\n  required: false,\n  readOnly: false,\n  error: null,\n  disabled: false,\n  onChange: function onChange() {},\n  onClick: function onClick() {},\n  // onFocus: () => {},\n  onBlur: function onBlur() {},\n  tabIndex: undefined,\n  label: undefined,\n  className: undefined,\n  style: undefined,\n  id: undefined,\n  hideLabel: false\n};\n\nvar _default = (0, _withReduxForm[\"default\"])(PlacesLookupComponent);\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAsyncScriptLoader = _interopRequireDefault(require(\"react-async-script-loader\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _cardInput = _interopRequireDefault(require(\"./styled/cardInput\"));\n/**\n * Stripe Card Input component are used for freeform data entry.\n * @category Form\n */\n\n\nvar StripeCardInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var apiKey = props.apiKey,\n      label = props.label,\n      hideLabel = props.hideLabel,\n      bottomHelpText = props.bottomHelpText,\n      error = props.error,\n      disabled = props.disabled,\n      required = props.required,\n      locale = props.locale,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      className = props.className,\n      style = props.style,\n      isScriptLoaded = props.isScriptLoaded,\n      isScriptLoadSucceed = props.isScriptLoadSucceed;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      stripe = _useState2[0],\n      setStripe = _useState2[1];\n\n  var cardRef = (0, _react.useRef)();\n  var stripeCardInputId = (0, _hooks.useUniqueIdentifier)('stripe-card-input');\n  var errorMessageId = (0, _hooks.useUniqueIdentifier)('error-message');\n  var theme = (0, _hooks.useTheme)().rainbow;\n  var cardElementOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getCardElementOptions)(theme, disabled);\n  }, [disabled, theme]);\n  var localeStripe = (0, _hooks.useLocale)(locale);\n  var elementsOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getElementsOptions)(localeStripe);\n  }, [localeStripe]);\n  (0, _react.useEffect)(function () {\n    if (isScriptLoaded && isScriptLoadSucceed && window.Stripe && apiKey) {\n      setStripe(window.Stripe(apiKey));\n    }\n  }, [apiKey, isScriptLoadSucceed, isScriptLoaded]); // eslint-disable-next-line consistent-return\n\n  (0, _react.useEffect)(function () {\n    if (stripe) {\n      var cardNode = cardRef.current;\n      var elements = stripe.elements(elementsOptions);\n      var card = elements.create('card', cardElementOptions);\n      card.mount(cardNode);\n      card.on('change', function (event) {\n        var stripeCardEvent = {\n          stripe: stripe,\n          card: card,\n          isEmpty: event.empty,\n          isComplete: event.complete,\n          cardBrand: event.brand,\n          error: (0, _helpers.getError)(event.error)\n        };\n        onChange(stripeCardEvent);\n      });\n      card.on('focus', onFocus);\n      card.on('blur', onBlur);\n      return function () {\n        card.unmount();\n        card.destroy();\n      };\n    }\n  }, [cardElementOptions, elementsOptions, onBlur, onChange, onFocus, stripe]);\n  return _react[\"default\"].createElement(_container[\"default\"], {\n    ref: ref,\n    className: className,\n    style: style,\n    disabled: disabled,\n    error: error\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    inputId: stripeCardInputId,\n    required: required\n  }), _react[\"default\"].createElement(_cardInput[\"default\"], {\n    ref: cardRef,\n    id: stripeCardInputId,\n    disabled: disabled\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    id: errorMessageId,\n    alignSelf: \"center\"\n  }, error)));\n});\n\nexports.Component = StripeCardInput;\nStripeCardInput.propTypes = {\n  /** The application's API key. To use Stripe,\n   * you must get an API Key. See https://dashboard.stripe.com/account/apikeys\n   * to get an API Key. */\n  apiKey: _propTypes[\"default\"].string.isRequired,\n\n  /** Text label for the component. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** The component locale. If the locale is not passed, it defaults to the context language, and if the context language is not passed, it will default to the browser's language. */\n  locale: _propTypes[\"default\"].oneOf(['ar', 'da', 'de', 'en', 'es', 'fi', 'fr', 'he', 'it', 'ja', 'lt', 'lv', 'ms', 'nb', 'nl', 'pl', 'pt', 'pt-BR', 'ru', 'sv', 'zh']),\n\n  /** The action triggered when some value of the component changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired\n};\nStripeCardInput.defaultProps = {\n  label: undefined,\n  hideLabel: false,\n  bottomHelpText: null,\n  error: null,\n  disabled: false,\n  required: false,\n  locale: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  className: undefined,\n  style: undefined\n};\n\nvar _default = (0, _reactAsyncScriptLoader[\"default\"])('https://js.stripe.com/v3')((0, _withReduxForm[\"default\"])(StripeCardInput));\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/StripeCardInput/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","Component","_slicedToArray2","_react","_propTypes","_reactAsyncScriptLoader","_withReduxForm","_hooks","_helpers","_RenderIf","_label","_helpText","_errorText","_container","_cardInput","StripeCardInput","forwardRef","props","ref","apiKey","label","hideLabel","bottomHelpText","error","disabled","required","locale","onChange","onFocus","onBlur","className","style","isScriptLoaded","isScriptLoadSucceed","_useState","useState","_useState2","stripe","setStripe","cardRef","useRef","stripeCardInputId","useUniqueIdentifier","errorMessageId","theme","useTheme","rainbow","cardElementOptions","useMemo","getCardElementOptions","localeStripe","useLocale","elementsOptions","getElementsOptions","useEffect","window","Stripe","cardNode","current","elements","card","create","mount","on","event","stripeCardEvent","isEmpty","empty","isComplete","complete","cardBrand","brand","getError","unmount","destroy","createElement","inputId","id","isTrue","alignSelf","propTypes","string","isRequired","oneOfType","node","bool","oneOf","func","object","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAsyncScriptLoader = _interopRequireDefault(require(\"react-async-script-loader\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _cardInput = _interopRequireDefault(require(\"./styled/cardInput\"));\n\n/**\n * Stripe Card Input component are used for freeform data entry.\n * @category Form\n */\nvar StripeCardInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var apiKey = props.apiKey,\n      label = props.label,\n      hideLabel = props.hideLabel,\n      bottomHelpText = props.bottomHelpText,\n      error = props.error,\n      disabled = props.disabled,\n      required = props.required,\n      locale = props.locale,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      className = props.className,\n      style = props.style,\n      isScriptLoaded = props.isScriptLoaded,\n      isScriptLoadSucceed = props.isScriptLoadSucceed;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      stripe = _useState2[0],\n      setStripe = _useState2[1];\n\n  var cardRef = (0, _react.useRef)();\n  var stripeCardInputId = (0, _hooks.useUniqueIdentifier)('stripe-card-input');\n  var errorMessageId = (0, _hooks.useUniqueIdentifier)('error-message');\n  var theme = (0, _hooks.useTheme)().rainbow;\n  var cardElementOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getCardElementOptions)(theme, disabled);\n  }, [disabled, theme]);\n  var localeStripe = (0, _hooks.useLocale)(locale);\n  var elementsOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getElementsOptions)(localeStripe);\n  }, [localeStripe]);\n  (0, _react.useEffect)(function () {\n    if (isScriptLoaded && isScriptLoadSucceed && window.Stripe && apiKey) {\n      setStripe(window.Stripe(apiKey));\n    }\n  }, [apiKey, isScriptLoadSucceed, isScriptLoaded]); // eslint-disable-next-line consistent-return\n\n  (0, _react.useEffect)(function () {\n    if (stripe) {\n      var cardNode = cardRef.current;\n      var elements = stripe.elements(elementsOptions);\n      var card = elements.create('card', cardElementOptions);\n      card.mount(cardNode);\n      card.on('change', function (event) {\n        var stripeCardEvent = {\n          stripe: stripe,\n          card: card,\n          isEmpty: event.empty,\n          isComplete: event.complete,\n          cardBrand: event.brand,\n          error: (0, _helpers.getError)(event.error)\n        };\n        onChange(stripeCardEvent);\n      });\n      card.on('focus', onFocus);\n      card.on('blur', onBlur);\n      return function () {\n        card.unmount();\n        card.destroy();\n      };\n    }\n  }, [cardElementOptions, elementsOptions, onBlur, onChange, onFocus, stripe]);\n  return _react[\"default\"].createElement(_container[\"default\"], {\n    ref: ref,\n    className: className,\n    style: style,\n    disabled: disabled,\n    error: error\n  }, _react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    inputId: stripeCardInputId,\n    required: required\n  }), _react[\"default\"].createElement(_cardInput[\"default\"], {\n    ref: cardRef,\n    id: stripeCardInputId,\n    disabled: disabled\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_errorText[\"default\"], {\n    id: errorMessageId,\n    alignSelf: \"center\"\n  }, error)));\n});\n\nexports.Component = StripeCardInput;\nStripeCardInput.propTypes = {\n  /** The application's API key. To use Stripe,\n   * you must get an API Key. See https://dashboard.stripe.com/account/apikeys\n   * to get an API Key. */\n  apiKey: _propTypes[\"default\"].string.isRequired,\n\n  /** Text label for the component. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** A boolean to hide the input label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** The component locale. If the locale is not passed, it defaults to the context language, and if the context language is not passed, it will default to the browser's language. */\n  locale: _propTypes[\"default\"].oneOf(['ar', 'da', 'de', 'en', 'es', 'fi', 'fr', 'he', 'it', 'ja', 'lt', 'lv', 'ms', 'nb', 'nl', 'pl', 'pt', 'pt-BR', 'ru', 'sv', 'zh']),\n\n  /** The action triggered when some value of the component changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired\n};\nStripeCardInput.defaultProps = {\n  label: undefined,\n  hideLabel: false,\n  bottomHelpText: null,\n  error: null,\n  disabled: false,\n  required: false,\n  locale: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  className: undefined,\n  style: undefined\n};\n\nvar _default = (0, _reactAsyncScriptLoader[\"default\"])('https://js.stripe.com/v3')((0, _withReduxForm[\"default\"])(StripeCardInput));\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}
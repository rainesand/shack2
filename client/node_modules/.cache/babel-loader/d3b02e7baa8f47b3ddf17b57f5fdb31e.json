{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _constants = require(\"../../../libs/constants\");\n\nvar _utils = require(\"../utils\");\n\nvar _utils2 = require(\"./utils\");\n\nvar _indicator = _interopRequireDefault(require(\"./indicator\"));\n\nvar _indicatorsUl = _interopRequireDefault(require(\"../styled/indicatorsUl\"));\n/* eslint-disable no-script-url */\n\n\nvar RIGHT_SIDE = 1;\nvar LEFT_SIDE = -1;\n\nvar Indicators = /*#__PURE__*/function (_Component) {\n  (0, _inherits2[\"default\"])(Indicators, _Component);\n\n  function Indicators(props) {\n    var _this$keyHandlerMap;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Indicators);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Indicators).call(this, props));\n    _this.container = _react[\"default\"].createRef();\n    _this.handleKeyPressed = _this.handleKeyPressed.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.registerIndicator = _this.registerIndicator.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.unregisterIndicator = _this.unregisterIndicator.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.keyHandlerMap = (_this$keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.RIGHT_KEY, function () {\n      return _this.selectIndicator(RIGHT_SIDE);\n    }), (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.LEFT_KEY, function () {\n      return _this.selectIndicator(LEFT_SIDE);\n    }), _this$keyHandlerMap);\n    _this.state = {\n      indicatorsRefs: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Indicators, [{\n    key: \"setAsSelectedIndicator\",\n    value: function setAsSelectedIndicator(tabIndex) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      indicatorsRefs[tabIndex].ref.current.click();\n      indicatorsRefs[tabIndex].ref.current.focus();\n    }\n  }, {\n    key: \"registerIndicator\",\n    value: function registerIndicator(indicator) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n\n      var _getChildTabNodes = (0, _utils2.getChildTabNodes)(this.container.current),\n          _getChildTabNodes2 = (0, _toArray2[\"default\"])(_getChildTabNodes),\n          nodes = _getChildTabNodes2.slice(0);\n\n      var newRefs = (0, _utils2.insertChildOrderly)(indicatorsRefs, indicator, nodes);\n      this.setState({\n        indicatorsRefs: newRefs\n      });\n    }\n  }, {\n    key: \"unregisterIndicator\",\n    value: function unregisterIndicator(indicator) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var newChildren = indicatorsRefs.filter(function (child) {\n        return child.ref !== indicator;\n      });\n      this.setState({\n        indicatorsRefs: newChildren\n      });\n    }\n  }, {\n    key: \"selectIndicator\",\n    value: function selectIndicator(side) {\n      var selectedItem = this.props.selectedItem;\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var indicatorIndex = (0, _utils.getItemIndex)(indicatorsRefs, selectedItem);\n\n      if (indicatorIndex === indicatorsRefs.length - 1 && side === RIGHT_SIDE) {\n        this.setAsSelectedIndicator(0);\n      } else if (indicatorIndex === 0 && side === LEFT_SIDE) {\n        this.setAsSelectedIndicator(indicatorsRefs.length - 1);\n      } else {\n        this.setAsSelectedIndicator(indicatorIndex + side);\n      }\n    }\n  }, {\n    key: \"handleKeyPressed\",\n    value: function handleKeyPressed(event) {\n      if (this.keyHandlerMap[event.keyCode]) {\n        return this.keyHandlerMap[event.keyCode]();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(id) {\n      var selectedItem = this.props.selectedItem;\n      return selectedItem === id;\n    }\n  }, {\n    key: \"renderIndicators\",\n    value: function renderIndicators() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          carouselChildren = _this$props.carouselChildren,\n          onSelect = _this$props.onSelect,\n          selectedItem = _this$props.selectedItem;\n      return carouselChildren.map(function (_ref) {\n        var ref = _ref.ref,\n            rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"ref\"]);\n        return _react[\"default\"].createElement(_indicator[\"default\"], (0, _extends2[\"default\"])({}, rest, {\n          onSelect: onSelect,\n          selectedItem: selectedItem,\n          onCreate: _this2.registerIndicator,\n          onDestroy: _this2.unregisterIndicator,\n          key: rest.indicatorID\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react[\"default\"].createElement(_indicatorsUl[\"default\"], {\n        role: \"tablist\",\n        onKeyDown: this.handleKeyPressed,\n        ref: this.container\n      }, this.renderIndicators());\n    }\n  }]);\n  return Indicators;\n}(_react.Component);\n\nexports[\"default\"] = Indicators;\nIndicators.propTypes = {\n  carouselChildren: _propTypes[\"default\"].array,\n  onSelect: _propTypes[\"default\"].func,\n  selectedItem: _propTypes[\"default\"].string\n};\nIndicators.defaultProps = {\n  carouselChildren: [],\n  onSelect: function onSelect() {},\n  selectedItem: undefined\n};","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/CarouselCard/indicators/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_extends2","_objectWithoutProperties2","_toArray2","_defineProperty2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_react","_propTypes","_constants","_utils","_utils2","_indicator","_indicatorsUl","RIGHT_SIDE","LEFT_SIDE","Indicators","_Component","props","_this$keyHandlerMap","_this","call","container","createRef","handleKeyPressed","bind","registerIndicator","unregisterIndicator","keyHandlerMap","RIGHT_KEY","selectIndicator","LEFT_KEY","state","indicatorsRefs","key","setAsSelectedIndicator","tabIndex","ref","current","click","focus","indicator","_getChildTabNodes","getChildTabNodes","_getChildTabNodes2","nodes","slice","newRefs","insertChildOrderly","setState","newChildren","filter","child","side","selectedItem","indicatorIndex","getItemIndex","length","event","keyCode","isSelected","id","renderIndicators","_this2","_this$props","carouselChildren","onSelect","map","_ref","rest","createElement","onCreate","onDestroy","indicatorID","render","role","onKeyDown","Component","propTypes","array","func","string","defaultProps","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _constants = require(\"../../../libs/constants\");\n\nvar _utils = require(\"../utils\");\n\nvar _utils2 = require(\"./utils\");\n\nvar _indicator = _interopRequireDefault(require(\"./indicator\"));\n\nvar _indicatorsUl = _interopRequireDefault(require(\"../styled/indicatorsUl\"));\n\n/* eslint-disable no-script-url */\nvar RIGHT_SIDE = 1;\nvar LEFT_SIDE = -1;\n\nvar Indicators =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Indicators, _Component);\n\n  function Indicators(props) {\n    var _this$keyHandlerMap;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Indicators);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Indicators).call(this, props));\n    _this.container = _react[\"default\"].createRef();\n    _this.handleKeyPressed = _this.handleKeyPressed.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.registerIndicator = _this.registerIndicator.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.unregisterIndicator = _this.unregisterIndicator.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.keyHandlerMap = (_this$keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.RIGHT_KEY, function () {\n      return _this.selectIndicator(RIGHT_SIDE);\n    }), (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.LEFT_KEY, function () {\n      return _this.selectIndicator(LEFT_SIDE);\n    }), _this$keyHandlerMap);\n    _this.state = {\n      indicatorsRefs: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Indicators, [{\n    key: \"setAsSelectedIndicator\",\n    value: function setAsSelectedIndicator(tabIndex) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      indicatorsRefs[tabIndex].ref.current.click();\n      indicatorsRefs[tabIndex].ref.current.focus();\n    }\n  }, {\n    key: \"registerIndicator\",\n    value: function registerIndicator(indicator) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n\n      var _getChildTabNodes = (0, _utils2.getChildTabNodes)(this.container.current),\n          _getChildTabNodes2 = (0, _toArray2[\"default\"])(_getChildTabNodes),\n          nodes = _getChildTabNodes2.slice(0);\n\n      var newRefs = (0, _utils2.insertChildOrderly)(indicatorsRefs, indicator, nodes);\n      this.setState({\n        indicatorsRefs: newRefs\n      });\n    }\n  }, {\n    key: \"unregisterIndicator\",\n    value: function unregisterIndicator(indicator) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var newChildren = indicatorsRefs.filter(function (child) {\n        return child.ref !== indicator;\n      });\n      this.setState({\n        indicatorsRefs: newChildren\n      });\n    }\n  }, {\n    key: \"selectIndicator\",\n    value: function selectIndicator(side) {\n      var selectedItem = this.props.selectedItem;\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var indicatorIndex = (0, _utils.getItemIndex)(indicatorsRefs, selectedItem);\n\n      if (indicatorIndex === indicatorsRefs.length - 1 && side === RIGHT_SIDE) {\n        this.setAsSelectedIndicator(0);\n      } else if (indicatorIndex === 0 && side === LEFT_SIDE) {\n        this.setAsSelectedIndicator(indicatorsRefs.length - 1);\n      } else {\n        this.setAsSelectedIndicator(indicatorIndex + side);\n      }\n    }\n  }, {\n    key: \"handleKeyPressed\",\n    value: function handleKeyPressed(event) {\n      if (this.keyHandlerMap[event.keyCode]) {\n        return this.keyHandlerMap[event.keyCode]();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(id) {\n      var selectedItem = this.props.selectedItem;\n      return selectedItem === id;\n    }\n  }, {\n    key: \"renderIndicators\",\n    value: function renderIndicators() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          carouselChildren = _this$props.carouselChildren,\n          onSelect = _this$props.onSelect,\n          selectedItem = _this$props.selectedItem;\n      return carouselChildren.map(function (_ref) {\n        var ref = _ref.ref,\n            rest = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"ref\"]);\n        return _react[\"default\"].createElement(_indicator[\"default\"], (0, _extends2[\"default\"])({}, rest, {\n          onSelect: onSelect,\n          selectedItem: selectedItem,\n          onCreate: _this2.registerIndicator,\n          onDestroy: _this2.unregisterIndicator,\n          key: rest.indicatorID\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react[\"default\"].createElement(_indicatorsUl[\"default\"], {\n        role: \"tablist\",\n        onKeyDown: this.handleKeyPressed,\n        ref: this.container\n      }, this.renderIndicators());\n    }\n  }]);\n  return Indicators;\n}(_react.Component);\n\nexports[\"default\"] = Indicators;\nIndicators.propTypes = {\n  carouselChildren: _propTypes[\"default\"].array,\n  onSelect: _propTypes[\"default\"].func,\n  selectedItem: _propTypes[\"default\"].string\n};\nIndicators.defaultProps = {\n  carouselChildren: [],\n  onSelect: function onSelect() {},\n  selectedItem: undefined\n};"]},"metadata":{},"sourceType":"script"}
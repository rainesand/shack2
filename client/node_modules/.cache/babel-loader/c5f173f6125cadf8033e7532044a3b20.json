{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _inputItems = _interopRequireDefault(require(\"./inputItems\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _RequiredAsterisk = _interopRequireDefault(require(\"../RequiredAsterisk\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _hooks2 = require(\"./hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _styled = require(\"./styled\");\n/**\n * The CodeInput is an element that allows to fill a list of numbers, suitable for code validations.\n * @category Form\n */\n\n\nvar CodeInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks.useReduxForm)(props),\n      id = _useReduxForm.id,\n      valueProp = _useReduxForm.value,\n      label = _useReduxForm.label,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      length = _useReduxForm.length,\n      disabled = _useReduxForm.disabled,\n      required = _useReduxForm.required,\n      readOnly = _useReduxForm.readOnly,\n      error = _useReduxForm.error,\n      tabIndex = _useReduxForm.tabIndex,\n      onClick = _useReduxForm.onClick,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      onKeyDown = _useReduxForm.onKeyDown,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style;\n\n  var inputRef = (0, _react.useRef)();\n  var value = (0, _hooks2.useValueState)(valueProp, length);\n  var focusedIndex = (0, _hooks2.useFocusedIndexState)(value, length, disabled, readOnly);\n  var previousFocusedIndex = (0, _hooks2.usePreviousIndex)(focusedIndex);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  (0, _react.useEffect)(function () {\n    if (previousFocusedIndex !== undefined) {\n      (0, _helpers.setFocus)(inputRef);\n    }\n  }, [inputRef, focusedIndex, previousFocusedIndex]);\n\n  var handleOnChange = function handleOnChange(inputValue, index) {\n    var newValue = (0, _helpers.getNormalizedValue)(inputValue, index, value);\n    var hasValueChanged = newValue !== valueProp;\n\n    if (hasValueChanged) {\n      onChange(newValue);\n    }\n  };\n\n  var handleOnFocus = function handleOnFocus(e, index) {\n    if (focusedIndex !== index) {\n      (0, _helpers.setFocus)(inputRef);\n    }\n\n    onFocus(e);\n  };\n\n  var handleOnPaste = function handleOnPaste(e) {\n    onChange((0, _helpers.getNumbersFromClipboard)(e.clipboardData.getData('Text')));\n  };\n\n  return _react[\"default\"].createElement(_styled.StyledFieldset, {\n    className: className,\n    style: style,\n    id: id\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: label\n  }, _react[\"default\"].createElement(_styled.StyledLabel, null, _react[\"default\"].createElement(_RequiredAsterisk[\"default\"], {\n    required: required\n  }), label)), _react[\"default\"].createElement(_inputItems[\"default\"], {\n    value: value,\n    disabled: disabled,\n    readOnly: readOnly,\n    error: error,\n    tabIndex: tabIndex,\n    onClick: onClick,\n    onChange: handleOnChange,\n    onFocus: handleOnFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onPaste: handleOnPaste,\n    focusedIndex: focusedIndex,\n    ref: inputRef\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_styled.StyledHelpText, null, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_styled.StyledErrorMessage, null, error)));\n});\n\nCodeInput.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the value of CodeInput. */\n  value: _propTypes[\"default\"].string,\n\n  /** Specifies the label CodeInput. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Shows the help message below the CodeInput */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies the numeric length to be filled. */\n  length: _propTypes[\"default\"].number,\n\n  /** Specifies that the CodeInput element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput field must be filled before submitting the form. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput is read-only. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the value changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives the focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** The action triggered when a key is pressed on the element. */\n  onKeyDown: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object\n};\nCodeInput.defaultProps = {\n  id: undefined,\n  value: '',\n  label: undefined,\n  bottomHelpText: undefined,\n  length: 4,\n  disabled: false,\n  required: false,\n  readOnly: false,\n  error: null,\n  tabIndex: undefined,\n  onClick: function onClick() {},\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onKeyDown: function onKeyDown() {},\n  className: undefined,\n  style: undefined\n};\nvar _default = CodeInput;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/Saul/Desktop/shack2/node_modules/react-rainbow-components/components/CodeInput/index.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_propTypes","_inputItems","_RenderIf","_RequiredAsterisk","_hooks","_hooks2","_helpers","_styled","CodeInput","forwardRef","props","ref","_useReduxForm","useReduxForm","id","valueProp","label","bottomHelpText","length","disabled","required","readOnly","error","tabIndex","onClick","onChange","onFocus","onBlur","onKeyDown","className","style","inputRef","useRef","useValueState","focusedIndex","useFocusedIndexState","previousFocusedIndex","usePreviousIndex","useImperativeHandle","focus","current","click","blur","useEffect","undefined","setFocus","handleOnChange","inputValue","index","newValue","getNormalizedValue","hasValueChanged","handleOnFocus","e","handleOnPaste","getNumbersFromClipboard","clipboardData","getData","createElement","StyledFieldset","isTrue","StyledLabel","onPaste","StyledHelpText","StyledErrorMessage","propTypes","string","oneOfType","node","number","bool","func","object","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _inputItems = _interopRequireDefault(require(\"./inputItems\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _RequiredAsterisk = _interopRequireDefault(require(\"../RequiredAsterisk\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _hooks2 = require(\"./hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _styled = require(\"./styled\");\n\n/**\n * The CodeInput is an element that allows to fill a list of numbers, suitable for code validations.\n * @category Form\n */\nvar CodeInput = _react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks.useReduxForm)(props),\n      id = _useReduxForm.id,\n      valueProp = _useReduxForm.value,\n      label = _useReduxForm.label,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      length = _useReduxForm.length,\n      disabled = _useReduxForm.disabled,\n      required = _useReduxForm.required,\n      readOnly = _useReduxForm.readOnly,\n      error = _useReduxForm.error,\n      tabIndex = _useReduxForm.tabIndex,\n      onClick = _useReduxForm.onClick,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      onKeyDown = _useReduxForm.onKeyDown,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style;\n\n  var inputRef = (0, _react.useRef)();\n  var value = (0, _hooks2.useValueState)(valueProp, length);\n  var focusedIndex = (0, _hooks2.useFocusedIndexState)(value, length, disabled, readOnly);\n  var previousFocusedIndex = (0, _hooks2.usePreviousIndex)(focusedIndex);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  (0, _react.useEffect)(function () {\n    if (previousFocusedIndex !== undefined) {\n      (0, _helpers.setFocus)(inputRef);\n    }\n  }, [inputRef, focusedIndex, previousFocusedIndex]);\n\n  var handleOnChange = function handleOnChange(inputValue, index) {\n    var newValue = (0, _helpers.getNormalizedValue)(inputValue, index, value);\n    var hasValueChanged = newValue !== valueProp;\n\n    if (hasValueChanged) {\n      onChange(newValue);\n    }\n  };\n\n  var handleOnFocus = function handleOnFocus(e, index) {\n    if (focusedIndex !== index) {\n      (0, _helpers.setFocus)(inputRef);\n    }\n\n    onFocus(e);\n  };\n\n  var handleOnPaste = function handleOnPaste(e) {\n    onChange((0, _helpers.getNumbersFromClipboard)(e.clipboardData.getData('Text')));\n  };\n\n  return _react[\"default\"].createElement(_styled.StyledFieldset, {\n    className: className,\n    style: style,\n    id: id\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: label\n  }, _react[\"default\"].createElement(_styled.StyledLabel, null, _react[\"default\"].createElement(_RequiredAsterisk[\"default\"], {\n    required: required\n  }), label)), _react[\"default\"].createElement(_inputItems[\"default\"], {\n    value: value,\n    disabled: disabled,\n    readOnly: readOnly,\n    error: error,\n    tabIndex: tabIndex,\n    onClick: onClick,\n    onChange: handleOnChange,\n    onFocus: handleOnFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onPaste: handleOnPaste,\n    focusedIndex: focusedIndex,\n    ref: inputRef\n  }), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, _react[\"default\"].createElement(_styled.StyledHelpText, null, bottomHelpText)), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, _react[\"default\"].createElement(_styled.StyledErrorMessage, null, error)));\n});\n\nCodeInput.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the value of CodeInput. */\n  value: _propTypes[\"default\"].string,\n\n  /** Specifies the label CodeInput. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Shows the help message below the CodeInput */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies the numeric length to be filled. */\n  length: _propTypes[\"default\"].number,\n\n  /** Specifies that the CodeInput element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput field must be filled before submitting the form. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput is read-only. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies that the CodeInput must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the value changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives the focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** The action triggered when a key is pressed on the element. */\n  onKeyDown: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object\n};\nCodeInput.defaultProps = {\n  id: undefined,\n  value: '',\n  label: undefined,\n  bottomHelpText: undefined,\n  length: 4,\n  disabled: false,\n  required: false,\n  readOnly: false,\n  error: null,\n  tabIndex: undefined,\n  onClick: function onClick() {},\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onKeyDown: function onKeyDown() {},\n  className: undefined,\n  style: undefined\n};\nvar _default = CodeInput;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}